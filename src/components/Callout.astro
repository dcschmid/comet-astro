---
interface Props {
  variant?: 'info' | 'success' | 'warning' | 'error' | 'note';
  title?: string;
  icon?: string;
  className?: string;
}

const { variant = 'info', title, icon, className = '' } = Astro.props;

const variantStyles = {
  info: {
    wrap: 'border-blue-900 bg-blue-950 text-blue-50 dark:border-blue-200 dark:bg-blue-100 dark:text-blue-950',
    title: 'text-blue-50 dark:text-blue-950',
    body: 'text-blue-100 dark:text-blue-950',
    icon: icon || '‚ÑπÔ∏è',
  },
  success: {
    wrap: 'border-emerald-900 bg-emerald-950 text-emerald-50 dark:border-emerald-200 dark:bg-emerald-100 dark:text-emerald-950',
    title: 'text-emerald-50 dark:text-emerald-950',
    body: 'text-emerald-100 dark:text-emerald-950',
    icon: icon || '‚úÖ',
  },
  warning: {
    wrap: 'border-amber-900 bg-amber-950 text-amber-50 dark:border-amber-200 dark:bg-amber-100 dark:text-amber-950',
    title: 'text-amber-50 dark:text-amber-950',
    body: 'text-amber-100 dark:text-amber-950',
    icon: icon || '‚ö†Ô∏è',
  },
  error: {
    wrap: 'border-rose-900 bg-rose-950 text-rose-50 dark:border-rose-200 dark:bg-rose-100 dark:text-rose-950',
    title: 'text-rose-50 dark:text-rose-950',
    body: 'text-rose-100 dark:text-rose-950',
    icon: icon || '‚ùå',
  },
  note: {
    wrap: 'border-indigo-900 bg-indigo-950 text-indigo-50 dark:border-indigo-200 dark:bg-indigo-100 dark:text-indigo-950',
    title: 'text-indigo-50 dark:text-indigo-950',
    body: 'text-indigo-100 dark:text-indigo-950',
    icon: icon || 'üìù',
  },
};

const styles = variantStyles[variant];
---

<div
  class={`rounded-xl border p-5 shadow-sm transition-colors ${styles.wrap} ${className}`}
  role="note"
>
  <div class="flex gap-3">
    {
      styles.icon && (
        <div class="flex-shrink-0 text-2xl" aria-hidden="true">
          {styles.icon}
        </div>
      )
    }
    <div class="flex-1">
      {
        title && (
          <p class={`mb-1 text-base font-semibold ${styles.title}`}>{title}</p>
        )
      }
      <div
        class={`text-sm leading-relaxed ${styles.body} [&>p]:mb-2 [&>p:last-child]:mb-0`}
      >
        <slot />
      </div>
    </div>
  </div>
</div>
