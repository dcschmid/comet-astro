---
import EmbedBase from './EmbedBase.astro';

interface Props {
  src: string;
  title?: string;
  aspectRatio?: '16:9' | '4:3' | '1:1' | '21:9' | '9:16' | 'auto' | 'none';
  variant?: 'default' | 'inline' | 'featured' | 'minimal' | 'card';
  size?: 'sm' | 'md' | 'lg' | 'xl';
  height?: number;
  allowFullscreen?: boolean;
  loading?: 'lazy' | 'eager';
  sandbox?: string;
  allow?: string;
  className?: string;
  ariaLabel?: string;
  ariaDescribedby?: string;
  description?: string;
  error?: string;
  isLoading?: boolean;
  rounded?: boolean;
  responsive?: boolean;
  maxWidth?: string;
}

const {
  src,
  title = 'Embedded content',
  aspectRatio = '16:9',
  variant = 'default',
  size = 'md',
  allowFullscreen = true,
  loading = 'lazy',
  sandbox,
  allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share',
  className = '',
  ariaLabel,
  ariaDescribedby,
  description,
  error,
  isLoading = false,
  rounded = true,
  responsive = true,
  maxWidth,
} = Astro.props;
---

<EmbedBase
  src={src}
  title={title}
  variant={variant}
  size={size}
  aspectRatio={aspectRatio}
  rounded={rounded}
  lazy={loading === 'lazy'}
  description={description}
  ariaLabel={ariaLabel}
  ariaDescribedby={ariaDescribedby}
  loading={isLoading}
  error={error}
  responsive={responsive}
  maxWidth={maxWidth}
  allowFullscreen={allowFullscreen}
  sandbox={sandbox}
  allow={allow}
  className={className}
/>
