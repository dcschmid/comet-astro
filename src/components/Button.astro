---
import ButtonBase from './ButtonBase.astro';
import type { ButtonBaseProps } from './ButtonBase.astro';

/**
 * Button - Versatile button/link component with consistent styling
 * Can render as button or anchor element based on href prop
 */
interface Props extends ButtonBaseProps {
  /** Link URL - if provided, renders as anchor */
  href?: string;
  /** Button type (only for button elements) */
  type?: 'button' | 'submit' | 'reset';
  /** Link target */
  target?: '_blank' | '_self' | '_parent' | '_top';
  /** Link rel attribute */
  rel?: string;
  /** Force external link behavior */
  external?: boolean;
  /** Screen reader text for external links */
  externalLabel?: string;
  /** Additional HTML attributes */
  [key: string]: any;
}

const {
  href,
  type = 'button',
  target,
  rel,
  external,
  externalLabel,
  ...buttonBaseProps
} = Astro.props;

// Determine whether to render as button or anchor
const as = href ? 'a' : 'button';
---

<ButtonBase
  {as}
  {href}
  {type}
  {target}
  {rel}
  {external}
  {externalLabel}
  {...buttonBaseProps}
>
  <slot />
</ButtonBase>
