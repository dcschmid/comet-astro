---
interface Props {
  orientation?: 'horizontal' | 'vertical';
  variant?: 'solid' | 'dashed' | 'dotted' | 'gradient';
  spacing?: 'none' | 'sm' | 'md' | 'lg';
  label?: string;
  className?: string;
}

const {
  orientation = 'horizontal',
  variant = 'solid',
  spacing = 'md',
  label,
  className = '',
} = Astro.props;

const orientationClasses =
  orientation === 'horizontal' ? 'h-px w-full' : 'inline-block h-full w-px';

const variantClasses = {
  solid: 'bg-slate-400/90 dark:bg-slate-500/90',
  dashed: 'border-slate-400/90 border-dashed dark:border-slate-500/90',
  dotted: 'border-slate-400/90 border-dotted dark:border-slate-500/90',
  gradient:
    'bg-gradient-to-r from-transparent via-slate-400/90 to-transparent dark:via-slate-500/90',
};

const spacingClasses = {
  none: orientation === 'horizontal' ? 'my-0' : 'mx-0',
  sm: orientation === 'horizontal' ? 'my-3 sm:my-2' : 'mx-3 sm:mx-2',
  md: orientation === 'horizontal' ? 'my-5 sm:my-4' : 'mx-5 sm:mx-4',
  lg: orientation === 'horizontal' ? 'my-7 sm:my-6' : 'mx-7 sm:mx-6',
};

const borderClass = ['dashed', 'dotted'].includes(variant)
  ? orientation === 'horizontal'
    ? 'border-t'
    : 'border-l'
  : '';
---

{
  label && orientation === 'horizontal' ? (
    <div
      class={`relative ${spacingClasses[spacing]}`}
      role="separator"
      aria-label={label}
    >
      <div class="absolute inset-0 flex items-center" aria-hidden="true">
        <div class={`w-full h-px ${variantClasses[variant]} ${borderClass}`} />
      </div>
      <div class="relative flex justify-center">
        <span class="bg-white px-3 text-sm font-medium text-slate-800 dark:bg-slate-800 dark:text-slate-200">
          {label}
        </span>
      </div>
    </div>
  ) : (
    <hr
      class={`${orientationClasses} ${variantClasses[variant]} ${spacingClasses[spacing]} ${borderClass} ${className}`}
      aria-hidden="true"
    />
  )
}
