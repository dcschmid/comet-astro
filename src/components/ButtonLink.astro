---
import ButtonBase from './ButtonBase.astro';
import type { ButtonBaseProps } from './ButtonBase.astro';

/**
 * ButtonLink - Dedicated anchor-style button component
 * Always renders as anchor element with link styling
 */
interface Props extends ButtonBaseProps {
  /** Link URL (required) */
  href: string;
  /** Visible text when no slot is provided */
  label?: string;
  /** Link target */
  target?: '_blank' | '_self' | '_parent' | '_top';
  /** Link rel attribute */
  rel?: string;
  /** Force external link behavior */
  external?: boolean;
  /** Screen reader text for external links */
  externalLabel?: string;
  /** Additional HTML attributes */
  [key: string]: any;
}

const {
  href,
  label,
  target,
  rel,
  external,
  externalLabel,
  ...buttonBaseProps
} = Astro.props;
---

<ButtonBase
  as="a"
  {href}
  {target}
  {rel}
  {external}
  {externalLabel}
  {...buttonBaseProps}
>
  <slot name="iconLeft" slot="iconLeft" />
  {typeof label === 'string' ? label : <slot />}
  <slot name="iconRight" slot="iconRight" />
</ButtonBase>
