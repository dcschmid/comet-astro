---
interface Event {
  date: string;
  title: string;
  description?: string;
  icon?: string;
  variant?: 'default' | 'success' | 'warning' | 'error';
}

interface Props {
  events: Event[];
  className?: string;
}

const { events, className = '' } = Astro.props;

const variantColors = {
  default:
    'bg-blue-600 text-white border-white dark:border-slate-950 dark:text-slate-900 dark:bg-blue-500',
  success:
    'bg-emerald-600 text-white border-white dark:border-slate-950 dark:text-slate-900 dark:bg-emerald-500',
  warning:
    'bg-amber-500 text-slate-900 border-white dark:border-slate-950 dark:text-slate-900 dark:bg-amber-400',
  error:
    'bg-rose-600 text-white border-white dark:border-slate-950 dark:text-slate-900 dark:bg-rose-500',
};
---

<div class={`relative text-slate-900 dark:text-slate-100 ${className}`.trim()}>
  <div
    class="absolute left-4 top-0 bottom-0 w-0.5 bg-slate-200 dark:bg-slate-800"
    aria-hidden="true"
  >
  </div>

  <ul class="space-y-8">
    {
      events.map((event) => {
        const variant = event.variant || 'default';
        return (
          <li class="relative pl-12">
            <div
              class={`absolute left-0 flex h-8 w-8 items-center justify-center rounded-full border-4 shadow-sm ${variantColors[variant]}`}
              aria-hidden="true"
            >
              {event.icon && <span class="text-sm">{event.icon}</span>}
            </div>

            <div class="rounded-lg border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-800 dark:bg-slate-950">
              <time class="text-xs font-medium uppercase tracking-wide text-slate-600 dark:text-slate-400">
                {event.date}
              </time>
              <h3 class="mt-1 text-base font-semibold text-slate-900 dark:text-slate-100">
                {event.title}
              </h3>
              {event.description && (
                <p class="mt-2 text-sm text-slate-700 dark:text-slate-300">
                  {event.description}
                </p>
              )}
            </div>
          </li>
        );
      })
    }
  </ul>
</div>
