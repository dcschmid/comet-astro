---
import Layout from '@/layouts/Layout.astro';
import ComponentDocsSections from '@/components/ComponentDocsSections.astro';
import SidebarNav from '@/components/SidebarNav.astro';
import Prose from '@/components/Prose.astro';
import Container from '@/components/Container.astro';
import Stack from '@/components/Stack.astro';
import CodeBlock from '@/components/CodeBlock.astro';
import Divider from '@/components/Divider.astro';

const exampleNavItems = [
  {
    title: 'Dashboard',
    href: '/dashboard',
    icon: 'chart',
    isActive: true,
  },
  {
    title: 'Projects',
    href: '/projects',
    icon: 'folder',
    children: [
      { title: 'Active Projects', href: '/projects/active' },
      { title: 'Archived Projects', href: '/projects/archived' },
      { title: 'Create New', href: '/projects/new' },
    ],
  },
  {
    title: 'Users',
    href: '/users',
    icon: 'users',
    children: [
      { title: 'All Users', href: '/users' },
      { title: 'Add User', href: '/users/add' },
      { title: 'Permissions', href: '/users/permissions' },
    ],
  },
  {
    title: 'Settings',
    href: '/settings',
    icon: 'settings',
    children: [
      { title: 'General', href: '/settings/general' },
      { title: 'Security', href: '/settings/security' },
      { title: 'Integrations', href: '/settings/integrations' },
    ],
  },
  {
    title: 'Documentation',
    href: '/docs',
    icon: 'book',
  },
  {
    title: 'Support',
    href: '/support',
    icon: 'help',
  },
];

const sections = [
  {
    title: 'Basic Usage',
    id: 'basic',
    content:
      'A responsive navigation sidebar with collapsible sections and keyboard navigation support.',
  },
  {
    title: 'Variants',
    id: 'variants',
    content: 'Different visual styles for various use cases.',
  },
  {
    title: 'Sizes',
    id: 'sizes',
    content: 'Available size variations for different layouts.',
  },
  {
    title: 'Responsive Design',
    id: 'responsive',
    content: 'Behavior across different screen sizes.',
  },
  {
    title: 'Accessibility',
    id: 'accessibility',
    content: 'WCAG AAA compliant with comprehensive keyboard navigation.',
  },
];
---

<Layout
  title="SidebarNav Component"
  description="Documentation for the SidebarNav component - A responsive navigation sidebar with collapsible sections."
>
  <Container class="py-16">
    <ComponentDocsSections sections={sections} />

    <Stack class="space-y-16">
      <!-- Basic Usage -->
      <section id="basic" class="scroll-mt-20">
        <Stack class="space-y-8">
          <div>
            <h2
              class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100"
            >
              Basic Usage
            </h2>
            <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">
              A responsive navigation sidebar with collapsible sections and
              keyboard navigation support.
            </p>
          </div>

          <div
            class="rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 p-6"
          >
            <div class="h-96 relative">
              <SidebarNav
                title="Navigation"
                items={exampleNavItems}
                variant="default"
                size="md"
                isCollapsible={true}
                defaultOpen={true}
                aria-label="Main navigation"
              />
            </div>
          </div>

          <CodeBlock
            language="astro"
            code={`---
import SidebarNav from "@/components/SidebarNav.astro";

const navItems = [
  {
    title: "Dashboard",
    href: "/dashboard",
    icon: "chart",
    isActive: true,
  },
  {
    title: "Projects",
    href: "/projects",
    icon: "folder",
    children: [
      { title: "Active Projects", href: "/projects/active" },
      { title: "Archived Projects", href: "/projects/archived" },
    ],
  },
];
---

<SidebarNav
  title="Navigation"
  items={navItems}
  variant="default"
  size="md"
  isCollapsible={true}
  defaultOpen={true}
  aria-label="Main navigation"
/>`}
          />
        </Stack>
      </section>

      <Divider />

      <!-- Variants -->
      <section id="variants" class="scroll-mt-20">
        <Stack class="space-y-8">
          <div>
            <h2
              class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100"
            >
              Variants
            </h2>
            <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">
              Different visual styles for various use cases.
            </p>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Default Variant -->
            <div class="space-y-4">
              <h3
                class="text-xl font-semibold text-gray-900 dark:text-gray-100"
              >
                Default
              </h3>
              <div
                class="rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 p-4"
              >
                <div class="h-64 relative">
                  <SidebarNav
                    title="Default Navigation"
                    items={exampleNavItems.slice(0, 3)}
                    variant="default"
                    size="sm"
                    defaultOpen={true}
                  />
                </div>
              </div>
            </div>

            <!-- Minimal Variant -->
            <div class="space-y-4">
              <h3
                class="text-xl font-semibold text-gray-900 dark:text-gray-100"
              >
                Minimal
              </h3>
              <div
                class="rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 p-4"
              >
                <div class="h-64 relative">
                  <SidebarNav
                    title="Minimal Navigation"
                    items={exampleNavItems.slice(0, 3)}
                    variant="minimal"
                    size="sm"
                    defaultOpen={true}
                  />
                </div>
              </div>
            </div>

            <!-- Bordered Variant -->
            <div class="space-y-4">
              <h3
                class="text-xl font-semibold text-gray-900 dark:text-gray-100"
              >
                Bordered
              </h3>
              <div
                class="rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 p-4"
              >
                <div class="h-64 relative">
                  <SidebarNav
                    title="Bordered Navigation"
                    items={exampleNavItems.slice(0, 3)}
                    variant="bordered"
                    size="sm"
                    defaultOpen={true}
                  />
                </div>
              </div>
            </div>

            <!-- Accent Variant -->
            <div class="space-y-4">
              <h3
                class="text-xl font-semibold text-gray-900 dark:text-gray-100"
              >
                Accent
              </h3>
              <div
                class="rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 p-4"
              >
                <div class="h-64 relative">
                  <SidebarNav
                    title="Accent Navigation"
                    items={exampleNavItems.slice(0, 3)}
                    variant="accent"
                    size="sm"
                    defaultOpen={true}
                  />
                </div>
              </div>
            </div>
          </div>

          <CodeBlock
            language="astro"
            code={`<!-- Default variant -->
<SidebarNav variant="default" items={navItems} />

<!-- Minimal variant -->
<SidebarNav variant="minimal" items={navItems} />

<!-- Bordered variant -->
<SidebarNav variant="bordered" items={navItems} />

<!-- Accent variant -->
<SidebarNav variant="accent" items={navItems} />`}
          />
        </Stack>
      </section>

      <Divider />

      <!-- Sizes -->
      <section id="sizes" class="scroll-mt-20">
        <Stack class="space-y-8">
          <div>
            <h2
              class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100"
            >
              Sizes
            </h2>
            <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">
              Available size variations for different layouts.
            </p>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Small Size -->
            <div class="space-y-4">
              <h3
                class="text-xl font-semibold text-gray-900 dark:text-gray-100"
              >
                Small
              </h3>
              <div
                class="rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 p-4"
              >
                <div class="h-48 relative">
                  <SidebarNav
                    title="Small Nav"
                    items={exampleNavItems.slice(0, 2)}
                    size="sm"
                    defaultOpen={true}
                  />
                </div>
              </div>
            </div>

            <!-- Medium Size -->
            <div class="space-y-4">
              <h3
                class="text-xl font-semibold text-gray-900 dark:text-gray-100"
              >
                Medium
              </h3>
              <div
                class="rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 p-4"
              >
                <div class="h-48 relative">
                  <SidebarNav
                    title="Medium Nav"
                    items={exampleNavItems.slice(0, 2)}
                    size="md"
                    defaultOpen={true}
                  />
                </div>
              </div>
            </div>

            <!-- Large Size -->
            <div class="space-y-4">
              <h3
                class="text-xl font-semibold text-gray-900 dark:text-gray-100"
              >
                Large
              </h3>
              <div
                class="rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 p-4"
              >
                <div class="h-48 relative">
                  <SidebarNav
                    title="Large Nav"
                    items={exampleNavItems.slice(0, 2)}
                    size="lg"
                    defaultOpen={true}
                  />
                </div>
              </div>
            </div>
          </div>

          <CodeBlock
            language="astro"
            code={`<!-- Small size -->
<SidebarNav size="sm" items={navItems} />

<!-- Medium size (default) -->
<SidebarNav size="md" items={navItems} />

<!-- Large size -->
<SidebarNav size="lg" items={navItems} />`}
          />
        </Stack>
      </section>

      <Divider />

      <!-- Responsive Design -->
      <section id="responsive" class="scroll-mt-20">
        <Stack class="space-y-8">
          <div>
            <h2
              class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100"
            >
              Responsive Design
            </h2>
            <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">
              The sidebar adapts to different screen sizes automatically.
            </p>
          </div>

          <Prose>
            <ul>
              <li>
                <strong>Desktop (lg+):</strong> Full sidebar with expanded groups
                by default
              </li>
              <li>
                <strong>Tablet (md):</strong> Collapsible sidebar with compact spacing
              </li>
              <li>
                <strong>Mobile (sm):</strong> Overlay sidebar with touch-friendly
                interactions
              </li>
            </ul>
          </Prose>

          <CodeBlock
            language="astro"
            code={`<!-- Responsive sidebar with breakpoint-specific behavior -->
<SidebarNav
  items={navItems}
  class="lg:w-64 md:w-56 sm:w-full"
  isCollapsible={true}
  defaultOpen={false}
  mobileOverlay={true}
/>`}
          />
        </Stack>
      </section>

      <Divider />

      <!-- Accessibility -->
      <section id="accessibility" class="scroll-mt-20">
        <Stack class="space-y-8">
          <div>
            <h2
              class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100"
            >
              Accessibility
            </h2>
            <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">
              WCAG AAA compliant with comprehensive keyboard navigation and
              screen reader support.
            </p>
          </div>

          <Prose>
            <h3>Keyboard Navigation</h3>
            <ul>
              <li>
                <kbd>Tab</kbd> / <kbd>Shift + Tab</kbd> - Navigate between focusable
                elements
              </li>
              <li>
                <kbd>Arrow Up</kbd> / <kbd>Arrow Down</kbd> - Navigate within sidebar
                items
              </li>
              <li>
                <kbd>Arrow Left</kbd> / <kbd>Arrow Right</kbd> - Collapse/expand
                groups
              </li>
              <li>
                <kbd>Enter</kbd> / <kbd>Space</kbd> - Activate buttons and links
              </li>
              <li>
                <kbd>Home</kbd> / <kbd>End</kbd> - Jump to first/last item
              </li>
              <li><kbd>Escape</kbd> - Close mobile overlay</li>
            </ul>

            <h3>Screen Reader Support</h3>
            <ul>
              <li>Proper ARIA labels and roles for all interactive elements</li>
              <li>Live region announcements for state changes</li>
              <li>Descriptive button labels with current state</li>
              <li>Hierarchical navigation structure with proper headings</li>
            </ul>

            <h3>Color Contrast</h3>
            <ul>
              <li>9:1 contrast ratio for text in both light and dark modes</li>
              <li>High contrast focus indicators</li>
              <li>Clear visual distinction between states</li>
            </ul>
          </Prose>

          <CodeBlock
            language="astro"
            code={`<!-- Accessibility-focused implementation -->
<SidebarNav
  items={navItems}
  aria-label="Main navigation"
  role="navigation"
  keyboardNavigation={true}
  announceStateChanges={true}
  highContrast={true}
/>`}
          />
        </Stack>
      </section>

      <Divider />

      <!-- Props Documentation -->
      <section class="scroll-mt-20">
        <Stack class="space-y-8">
          <div>
            <h2
              class="text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100"
            >
              Props
            </h2>
            <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">
              Complete list of available props and their types.
            </p>
          </div>

          <div class="overflow-x-auto">
            <table
              class="w-full border-collapse border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950"
            >
              <thead>
                <tr
                  class="border-b border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900"
                >
                  <th
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 text-left font-semibold"
                    >Prop</th
                  >
                  <th
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 text-left font-semibold"
                    >Type</th
                  >
                  <th
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 text-left font-semibold"
                    >Default</th
                  >
                  <th
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 text-left font-semibold"
                    >Description</th
                  >
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >items</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >NavItem[]</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >-</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >Array of navigation items</td
                  >
                </tr>
                <tr>
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >title</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >string</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >"Navigation"</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >Sidebar title</td
                  >
                </tr>
                <tr>
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >variant</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >"default" | "minimal" | "bordered" | "accent"</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >"default"</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >Visual style variant</td
                  >
                </tr>
                <tr>
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >size</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >"sm" | "md" | "lg"</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >"md"</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >Size variant</td
                  >
                </tr>
                <tr>
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >isCollapsible</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >boolean</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >true</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >Whether sidebar can be collapsed</td
                  >
                </tr>
                <tr>
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >defaultOpen</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >boolean</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >true</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >Initial open state</td
                  >
                </tr>
                <tr>
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >mobileOverlay</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3 font-mono text-sm"
                    >boolean</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >false</td
                  >
                  <td
                    class="border border-gray-200 dark:border-gray-800 px-4 py-3"
                    >Show as overlay on mobile</td
                  >
                </tr>
              </tbody>
            </table>
          </div>
        </Stack>
      </section>
    </Stack>
  </Container>
</Layout>
