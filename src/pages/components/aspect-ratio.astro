---
import DocsLayout from '../../layouts/DocsLayout.astro';
import AspectRatio from '../../components/AspectRatio.astro';
import Table from '../../components/Table.astro';
import Headline from '../../components/Headline.astro';
import Paragraph from '../../components/Paragraph.astro';
import InlineCode from '../../components/InlineCode.astro';

const ratioSamples = [
  {
    ratio: '16/9',
    label: '16:9 video frame',
    description:
      'Perfect for product trailers, webinar teasers, or embedded screen recordings.',
    gradient: 'from-indigo-500/20 via-sky-500/10 to-transparent',
  },
  {
    ratio: '4/3',
    label: '4:3 presentation',
    description:
      'Use for slide previews or legacy video content that needs padding on widescreen layouts.',
    gradient: 'from-amber-500/20 via-orange-500/10 to-transparent',
  },
  {
    ratio: '1/1',
    label: 'Square thumbnail',
    description:
      'Ideal for avatars, album covers, or grid cards where symmetry matters.',
    gradient: 'from-fuchsia-500/20 via-rose-500/10 to-transparent',
  },
];

const portraitSamples = [
  {
    ratio: '2/3',
    label: '2:3 portrait',
    description:
      'Showcase photography, posters, or mobile UI mockups without stretching.',
  },
  {
    ratio: '3/2',
    label: '3:2 snapshot',
    description: 'Great for landscape photography crops or marketplace cards.',
  },
  {
    ratio: '21/9',
    label: '21:9 ultrawide',
    description: 'Highlight cinematic stills or immersive hero imagery.',
  },
];

const cinemaRatio = '239/100';

const usageSnippet = `---
import { AspectRatio } from 'comet-astro';

const posterUrl = '/images/poster.jpg';

---

<AspectRatio ratio="4/3" className="overflow-hidden rounded-xl">
  <img
    src={posterUrl}
    alt="Poster artwork"
    loading="lazy"
    className="h-full w-full object-cover"
  />
</AspectRatio>`;

const frameClass =
  'flex h-full w-full items-center justify-center rounded-xl border border-slate-500/25 bg-slate-500/10 text-sm font-semibold text-slate-600 dark:text-slate-200';
const propsColumns = [
  { key: 'name', label: 'Prop' },
  { key: 'type', label: 'Type' },
  { key: 'default', label: 'Default' },
  { key: 'description', label: 'Description' },
];

const propsData = [
  {
    name: 'ratio',
    type: 'string | number',
    default: '"16/9"',
    description:
      'Preset string ("16/9", "4/3", etc.) or numeric value representing width ÷ height. Defaults to "16/9".',
  },
  {
    name: 'className',
    type: 'string',
    default: "''",
    description:
      'Extra Tailwind classes merged onto the outer wrapper. Useful for rounded corners, borders, or overflow control (for example, overflow-hidden).',
  },
];
---

<DocsLayout
  seoTitle="AspectRatio"
  seoDescription="Lock in a predictable aspect ratio for images, media, or placeholders without fragile padding hacks."
>
  <section class="space-y-4">
    <Paragraph class="text-base text-slate-100">
      Wrap any content in <InlineCode>&lt;AspectRatio&gt;</InlineCode> to preserve
      a fixed shape as the layout resizes. The component relies on Tailwind&apos;s
      native <code>aspect-*</code> utilities, so the slot scales fluidly while keeping
      its width-to-height ratio intact.
    </Paragraph>
    <Paragraph class="text-base text-slate-200">
      Use it for responsive video embeds, marketing cards, or preview
      skeletons—anywhere you want the layout to stay steady while content loads
      in.
    </Paragraph>
  </section>

  <section class="mt-10 space-y-6">
    <Headline level="h2" textSize="xl" className="font-semibold text-slate-100"
      >Props</Headline
    >
    <div>
      <Table columns={propsColumns} data={propsData} responsive={true} />
    </div>
  </section>

  <section class="mt-10 space-y-6">
    <Headline level="h2" textSize="xl" className="font-semibold text-slate-100"
      >Usage</Headline
    >
    <Paragraph class="text-base text-slate-200">
      Pick the ratio that matches your media, then slot in any element—images,
      videos, maps, or even custom skeletons. When working with numeric ratios,
      pass the width divided by height (for example,
      <InlineCode>ratio=&#123;2.39&#125;</InlineCode> for anamorphic video).
    </Paragraph>
    <pre
      class="overflow-x-auto rounded-lg border border-slate-700/70 bg-slate-950/80 p-4 text-sm text-slate-50 shadow-inner">
  <code class="language-astro">{usageSnippet}</code>
    </pre>
  </section>

  <section class="mt-10 space-y-8">
    <Headline level="h2" textSize="xl" className="font-semibold text-slate-100"
      >Examples</Headline
    >

    <article class="space-y-4">
      <div>
        <Headline
          level="h3"
          textSize="lg"
          className="font-semibold text-slate-100"
          >Standard media ratios</Headline
        >
        <Paragraph class="text-base text-slate-200">
          Popular video and thumbnail shapes rendered with soft placeholders.
          Swap in live embeds or images to match your production assets.
        </Paragraph>
      </div>
      <div class="grid gap-6 sm:grid-cols-3">
        {
          ratioSamples.map((item) => (
            <div class="space-y-2">
              <AspectRatio
                ratio={item.ratio}
                className="overflow-hidden rounded-xl border border-slate-700/40 bg-slate-800/30"
              >
                <div
                  class={`h-full w-full bg-linear-to-br ${item.gradient} ${frameClass}`}
                  aria-hidden="true"
                >
                  {item.label}
                </div>
              </AspectRatio>
              <Paragraph class="text-sm text-slate-400 dark:text-slate-300">
                {item.description}
              </Paragraph>
            </div>
          ))
        }
      </div>
    </article>

    <article class="space-y-4">
      <div>
        <Headline
          level="h3"
          textSize="lg"
          className="font-semibold text-slate-100"
          >Portrait and specialty content</Headline
        >
        <Paragraph class="text-base text-slate-200">
          Showcase tall imagery, print previews, or cinematic crops without
          manually calculating padding. The slot always stretches to fill the
          available height.
        </Paragraph>
      </div>
      <div class="grid gap-6 sm:grid-cols-3">
        {
          portraitSamples.map((item) => (
            <div class="space-y-2">
              <AspectRatio
                ratio={item.ratio}
                className="overflow-hidden rounded-xl border border-slate-700/40 bg-slate-800/30"
              >
                <div
                  class={`${frameClass} bg-linear-to-br from-slate-500/10 to-slate-300/10`}
                  aria-hidden="true"
                >
                  {item.label}
                </div>
              </AspectRatio>
              <Paragraph class="text-sm text-slate-400 dark:text-slate-300">
                {item.description}
              </Paragraph>
            </div>
          ))
        }
      </div>
    </article>

    <article class="space-y-4">
      <div>
        <Headline
          level="h3"
          textSize="lg"
          className="font-semibold text-slate-100"
          >Custom numeric ratio</Headline
        >
        <Paragraph class="text-base text-slate-200">
          Supply a decimal or fractional string for uncommon dimensions. This
          example uses <InlineCode>ratio="239/100"</InlineCode> to mimic widescreen
          cinema artwork while rounding the outer frame and clipping overflow.
        </Paragraph>
      </div>
      <AspectRatio
        ratio={cinemaRatio}
        className="overflow-hidden rounded-2xl border border-purple-500/40 bg-purple-500/10 shadow-lg"
      >
        <div
          class="flex h-full w-full flex-col justify-end bg-linear-to-br from-purple-600/60 via-indigo-600/40 to-slate-900/80 p-6 text-white"
        >
          <span class="text-xs uppercase tracking-wide text-purple-100/80"
            >Case study</span
          >
          <Headline level="h4" textSize="lg" className="mt-2 font-semibold"
            >Design system launch</Headline
          >
          <Paragraph class="mt-2 text-sm text-purple-100/90">
            Keep your hero artwork sharp on any screen by locking the canvas to
            the final aspect ratio.
          </Paragraph>
        </div>
      </AspectRatio>
    </article>
  </section>
</DocsLayout>
