---
import DocsLayout from '../../layouts/DocsLayout.astro';
import FileUploadComponent from '../../components/FileUpload.astro';

const usageSnippet = `---
import { FileUpload } from 'comet-astro';

---

<FileUpload
  label="Upload documents"
  description="Drag & drop files here, or click to browse."
  accept="image/*,.pdf,.doc,.docx"
  multiple={true}
  maxFileSizeMb={10}
  showFileList={true}
  size="md"
  variant="default"
/>`;
---

<DocsLayout
  seoTitle="FileUpload"
  seoDescription="Accessible drag-and-drop file upload with WCAG AAA contrast, progress display, and comprehensive validation."
>
  <section class="space-y-4">
    <p class="text-base text-slate-100">
      FileUpload provides accessible file upload interfaces with drag-and-drop
      functionality, comprehensive keyboard navigation, and focus management.
      The component maintains WCAG AAA contrast ratios across all interactive
      elements and supports multiple file selection with real-time validation
      and progress feedback.
    </p>
    <p class="text-base text-slate-200">
      Enhanced focus indicators, proper ARIA labeling, and semantic HTML
      structure ensure optimal accessibility for screen readers and keyboard
      navigation. Multiple size variants and comprehensive error handling adapt
      to any upload workflow.
    </p>
  </section>

  <section class="mt-10 space-y-6">
    <h2 class="text-xl font-semibold text-slate-100">Props</h2>
    <dl class="grid gap-6 sm:grid-cols-2">
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          label?
        </dt>
        <dd class="text-sm text-slate-200">
          Main heading text for the upload area. Defaults to <code
            >"Upload files"</code
          >.
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          description?
        </dt>
        <dd class="text-sm text-slate-200">
          Supporting text providing upload instructions. Defaults to drag & drop
          message.
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          accept?
        </dt>
        <dd class="text-sm text-slate-200">
          File type restrictions using MIME types or extensions (e.g., <code
            >"image/*,.pdf"</code
          >).
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          multiple?
        </dt>
        <dd class="text-sm text-slate-200">
          Allow selection of multiple files. Defaults to <code>true</code>.
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          maxFileSizeMb?
        </dt>
        <dd class="text-sm text-slate-200">
          Maximum file size in megabytes. Files exceeding this limit are
          rejected. Defaults to <code>10</code>.
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          showFileList?
        </dt>
        <dd class="text-sm text-slate-200">
          Display selected files with remove buttons. Defaults to <code
            >true</code
          >.
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          helpText?
        </dt>
        <dd class="text-sm text-slate-200">
          Additional help text displayed below the upload area for guidance.
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          inputName?
        </dt>
        <dd class="text-sm text-slate-200">
          Name attribute for the file input element for form submission.
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          size?
        </dt>
        <dd class="text-sm text-slate-200">
          Component size variant: <code>"sm"</code>, <code>"md"</code>, or <code
            >"lg"</code
          >. Defaults to <code>"md"</code>.
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          variant?
        </dt>
        <dd class="text-sm text-slate-200">
          Visual style variant: <code>"default"</code> or <code>"compact"</code
          >. Defaults to <code>"default"</code>.
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          ariaLabel?
        </dt>
        <dd class="text-sm text-slate-200">
          ARIA label for the upload container for enhanced screen reader
          support.
        </dd>
      </div>
      <div
        class="space-y-1 rounded-lg border border-slate-700/75 bg-slate-900/60 p-4 shadow-sm"
      >
        <dt
          class="text-sm font-semibold uppercase tracking-wide text-slate-200"
        >
          className?
        </dt>
        <dd class="text-sm text-slate-200">
          Additional CSS classes to apply to the upload container for custom
          styling.
        </dd>
      </div>
    </dl>
  </section>

  <section class="mt-10 space-y-6">
    <h2 class="text-xl font-semibold text-slate-100">Usage</h2>
    <p class="text-base text-slate-200">
      Create accessible file upload interfaces with drag-and-drop functionality
      and validation. The component handles file selection, size validation, and
      provides clear feedback to users about upload status and any errors
      encountered.
    </p>
    <pre
      class="overflow-x-auto rounded-lg border border-slate-700/70 bg-slate-950/80 p-4 text-sm text-slate-50 shadow-inner">
      <code class="language-astro">{usageSnippet}</code>
    </pre>
  </section>

  <section class="mt-10 space-y-8">
    <h2 class="text-xl font-semibold text-slate-100">Basic Upload</h2>
    <p class="text-base text-slate-200">
      Standard file upload with drag-and-drop support and file list display.
    </p>
    <div class="max-w-2xl">
      <FileUploadComponent
        label="Upload documents"
        description="Drag & drop files here, or click to browse your computer."
        maxFileSizeMb={5}
        multiple={true}
        showFileList={true}
      />
    </div>
  </section>

  <section class="mt-10 space-y-8">
    <h2 class="text-xl font-semibold text-slate-100">Image Upload</h2>
    <p class="text-base text-slate-200">
      Restricted to image files with specific file type validation.
    </p>
    <div class="max-w-2xl">
      <FileUploadComponent
        label="Upload images"
        description="Select JPG, PNG, or WebP images to upload."
        accept="image/jpeg,image/png,image/webp"
        maxFileSizeMb={15}
        multiple={true}
        helpText="Images will be automatically optimized for web display."
      />
    </div>
  </section>

  <section class="mt-10 space-y-8">
    <h2 class="text-xl font-semibold text-slate-100">Size Variants</h2>
    <p class="text-base text-slate-200">
      Choose from small, medium, or large sizes to match your layout
      requirements.
    </p>
    <div class="space-y-8">
      <div class="max-w-lg">
        <h3 class="text-lg font-medium text-slate-200 mb-4">Small</h3>
        <FileUploadComponent
          label="Upload file"
          description="Click to browse."
          size="sm"
          multiple={false}
          maxFileSizeMb={2}
        />
      </div>

      <div class="max-w-2xl">
        <h3 class="text-lg font-medium text-slate-200 mb-4">
          Medium (Default)
        </h3>
        <FileUploadComponent
          label="Upload documents"
          description="Drag & drop files here, or click to browse."
          size="md"
          maxFileSizeMb={10}
        />
      </div>

      <div class="max-w-3xl">
        <h3 class="text-lg font-medium text-slate-200 mb-4">Large</h3>
        <FileUploadComponent
          label="Upload project files"
          description="Drag & drop multiple files here, or click to browse your computer for documents, images, and other project assets."
          size="lg"
          maxFileSizeMb={50}
          helpText="Supported formats: PDF, DOC, DOCX, JPG, PNG, ZIP"
        />
      </div>
    </div>
  </section>

  <section class="mt-10 space-y-8">
    <h2 class="text-xl font-semibold text-slate-100">Variant Styles</h2>
    <p class="text-base text-slate-200">
      Default and compact variants for different layout contexts.
    </p>
    <div class="space-y-8">
      <div class="max-w-2xl">
        <h3 class="text-lg font-medium text-slate-200 mb-4">Default</h3>
        <FileUploadComponent
          label="Upload files"
          description="Drag & drop files here, or click to browse."
          variant="default"
          maxFileSizeMb={10}
        />
      </div>

      <div class="max-w-2xl">
        <h3 class="text-lg font-medium text-slate-200 mb-4">Compact</h3>
        <FileUploadComponent
          label="Quick upload"
          description="Click to select files."
          variant="compact"
          size="sm"
          maxFileSizeMb={5}
        />
      </div>
    </div>
  </section>

  <section class="mt-10 space-y-8">
    <h2 class="text-xl font-semibold text-slate-100">Single File Upload</h2>
    <p class="text-base text-slate-200">
      Upload a single file with specific format requirements.
    </p>
    <div class="max-w-xl">
      <FileUploadComponent
        label="Upload resume"
        description="Select a PDF file to upload your resume."
        accept=".pdf"
        multiple={false}
        maxFileSizeMb={5}
        helpText="Only PDF files are accepted. Maximum size: 5MB."
        inputName="resume"
      />
    </div>
  </section>

  <section class="mt-10 space-y-8">
    <h2 class="text-xl font-semibold text-slate-100">Without File List</h2>
    <p class="text-base text-slate-200">
      Hide the file list for simpler upload interfaces.
    </p>
    <div class="max-w-xl">
      <FileUploadComponent
        label="Upload avatar"
        description="Select an image for your profile picture."
        accept="image/*"
        multiple={false}
        maxFileSizeMb={2}
        showFileList={false}
        size="sm"
      />
    </div>
  </section>

  <section class="mt-10 space-y-8">
    <h2 class="text-xl font-semibold text-slate-100">Form Integration</h2>
    <p class="text-base text-slate-200">
      Integrate with forms using proper name attributes and validation.
    </p>
    <div class="max-w-2xl">
      <form class="space-y-6">
        <FileUploadComponent
          label="Project attachments"
          description="Upload relevant project files and documentation."
          accept=".pdf,.doc,.docx,.xls,.xlsx,.zip"
          multiple={true}
          maxFileSizeMb={25}
          inputName="attachments"
          helpText="Accepted formats: PDF, Word documents, Excel files, ZIP archives"
          ariaLabel="Upload project attachment files"
        />

        <div class="flex gap-4">
          <button
            type="submit"
            class="rounded-lg bg-blue-600 px-6 py-3 text-sm font-semibold text-white shadow-lg hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-blue-600 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:bg-blue-500 dark:hover:bg-blue-400 dark:focus-visible:ring-blue-400 dark:focus-visible:ring-offset-slate-800"
          >
            Submit Files
          </button>
          <button
            type="button"
            class="rounded-lg border-2 border-slate-300 bg-white px-6 py-3 text-sm font-semibold text-slate-900 shadow-lg hover:bg-slate-50 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-slate-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:border-slate-600 dark:bg-slate-700 dark:text-slate-100 dark:hover:bg-slate-600 dark:focus-visible:ring-slate-400 dark:focus-visible:ring-offset-slate-800"
          >
            Clear Files
          </button>
        </div>
      </form>
    </div>
  </section>

  <section class="mt-10 space-y-4">
    <h2 class="text-xl font-semibold text-slate-100">Accessibility</h2>
    <p class="text-base text-slate-200">
      Contrast ratios exceed WCAG AAA requirements (7:1+) for all text elements,
      borders, and interactive components in both light and dark themes.
      Enhanced focus rings use strong color contrast with proper offset spacing
      for clear keyboard navigation visibility.
    </p>
    <p class="text-base text-slate-200">
      The component uses semantic HTML with proper form labels and supports
      comprehensive ARIA attributes including <code>aria-describedby</code>, <code
        >aria-live</code
      >, and
      <code>role="alert"</code> for error messages. Drag-and-drop interactions work
      seamlessly with keyboard navigation using standard Tab and Enter key patterns.
    </p>
    <p class="text-base text-slate-200">
      File validation errors are announced to screen readers immediately, and
      file list updates use proper ARIA live regions for real-time feedback.
      Remove buttons include descriptive labels that identify the specific file
      being removed for clarity.
    </p>
    <p class="text-base text-slate-200">
      Custom events (<code>file-upload:change</code>, <code
        >file-upload:clear</code
      >) enable integration with form validation libraries while maintaining
      accessibility compliance. Touch targets meet minimum size requirements for
      mobile accessibility.
    </p>
  </section>
</DocsLayout>
