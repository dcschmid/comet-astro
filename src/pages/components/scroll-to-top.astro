---
import DocsLayout from '../../layouts/DocsLayout.astro';
import ScrollToTop from '../../components/ScrollToTop.astro';
import CodeBlock from '../../components/CodeBlock.astro';
---

<DocsLayout
  title="ScrollToTop"
  description="Accessible scroll-to-top button with WCAG AAA compliance, multiple variants, and smooth animations."
>
  <div class="space-y-12">
    <!-- Basic Example -->
    <section class="space-y-6">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
        Basic Example
      </h2>
      <div class="not-prose space-y-4">
        <div
          class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-700 p-6 rounded-lg border border-blue-200 dark:border-gray-600"
        >
          <p class="text-gray-600 dark:text-gray-300 mb-4">
            The scroll-to-top button appears in the bottom-right corner once you
            scroll down beyond the threshold (300px by default).
          </p>
          <p class="text-sm text-gray-500 dark:text-gray-400">
            Scroll down this page to see it in action. The button will smoothly
            animate into view and provide easy navigation back to the top.
          </p>
        </div>
        <ScrollToTop />
      </div>

      <CodeBlock code={`<ScrollToTop />`} language="astro" />
    </section>

    <!-- Variants -->
    <section class="space-y-6">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
        Variants
      </h2>

      <div class="space-y-8">
        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Default
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Classic blue button with high contrast and clear visibility.
            </p>
            <ScrollToTop variant="default" position="bottom-left" />
          </div>
        </div>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Minimal
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Subtle gray appearance that blends with most designs.
            </p>
            <ScrollToTop variant="minimal" position="bottom-center" />
          </div>
        </div>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Ghost
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Semi-transparent with backdrop blur for modern interfaces.
            </p>
            <ScrollToTop variant="ghost" position="top-right" threshold={100} />
          </div>
        </div>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Solid
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Bold dark button for high-contrast scenarios.
            </p>
            <ScrollToTop variant="solid" position="top-left" threshold={150} />
          </div>
        </div>
      </div>

      <CodeBlock
        code={`<!-- Default variant -->
<ScrollToTop variant="default" />

<!-- Minimal variant -->
<ScrollToTop variant="minimal" />

<!-- Ghost variant -->
<ScrollToTop variant="ghost" />

<!-- Solid variant -->
<ScrollToTop variant="solid" />`}
        language="astro"
      />
    </section>

    <!-- Sizes -->
    <section class="space-y-6">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">Sizes</h2>

      <div class="space-y-8">
        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Small
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Compact size for dense interfaces or mobile layouts.
            </p>
            <ScrollToTop size="sm" position="bottom-left" threshold={50} />
          </div>
        </div>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Medium (Default)
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Standard size that works well in most scenarios.
            </p>
            <ScrollToTop size="md" position="bottom-center" threshold={75} />
          </div>
        </div>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Large
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Larger button for better accessibility and touch targets.
            </p>
            <ScrollToTop size="lg" position="top-right" threshold={100} />
          </div>
        </div>
      </div>

      <CodeBlock
        code={`<!-- Small size -->
<ScrollToTop size="sm" />

<!-- Medium size (default) -->
<ScrollToTop size="md" />

<!-- Large size -->
<ScrollToTop size="lg" />`}
        language="astro"
      />
    </section>

    <!-- Positioning -->
    <section class="space-y-6">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
        Positioning
      </h2>

      <div class="space-y-8">
        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Corner Positions
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Position the button in any corner of the viewport.
            </p>
            <div class="grid grid-cols-2 gap-4 text-sm">
              <div>Bottom Right (default)</div>
              <div>Bottom Left</div>
              <div>Top Right</div>
              <div>Top Left</div>
            </div>
          </div>
        </div>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Center Position
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Center the button horizontally at the bottom of the screen.
            </p>
            <ScrollToTop
              position="bottom-center"
              variant="minimal"
              threshold={25}
            />
          </div>
        </div>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Custom Offset
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Adjust the distance from the viewport edges.
            </p>
            <ScrollToTop
              offset={16}
              position="bottom-right"
              variant="ghost"
              threshold={200}
            />
          </div>
        </div>
      </div>

      <CodeBlock
        code={`<!-- Bottom right (default) -->
<ScrollToTop position="bottom-right" />

<!-- Bottom left -->
<ScrollToTop position="bottom-left" />

<!-- Bottom center -->
<ScrollToTop position="bottom-center" />

<!-- Top positions -->
<ScrollToTop position="top-right" />
<ScrollToTop position="top-left" />

<!-- Custom offset -->
<ScrollToTop offset={64} position="bottom-right" />`}
        language="astro"
      />
    </section>

    <!-- Features -->
    <section class="space-y-6">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
        Advanced Features
      </h2>

      <div class="space-y-8">
        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Progress Indicator
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Show scroll progress as a circular indicator around the button.
            </p>
            <ScrollToTop
              showProgress={true}
              position="bottom-left"
              threshold={50}
            />
          </div>
        </div>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Custom Icons
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Choose from different arrow styles for the button icon.
            </p>
            <div class="flex gap-4">
              <ScrollToTop
                icon="arrow"
                position="bottom-left"
                threshold={25}
                size="sm"
              />
              <ScrollToTop
                icon="chevron"
                position="bottom-center"
                threshold={25}
                size="sm"
                variant="minimal"
              />
              <ScrollToTop
                icon="caret"
                position="bottom-right"
                threshold={25}
                size="sm"
                variant="ghost"
              />
            </div>
          </div>
        </div>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Custom Threshold
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Control when the button appears based on scroll distance.
            </p>
            <ScrollToTop threshold={100} position="top-right" variant="solid" />
          </div>
        </div>

        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
            Smooth Scrolling
          </h3>
          <div class="not-prose">
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              Enable or disable smooth scrolling animation (respects user's
              motion preferences).
            </p>
            <ScrollToTop smooth={false} position="top-left" threshold={150} />
          </div>
        </div>
      </div>

      <CodeBlock
        code={`<!-- Progress indicator -->
<ScrollToTop showProgress={true} />

<!-- Custom icons -->
<ScrollToTop icon="arrow" />
<ScrollToTop icon="chevron" />
<ScrollToTop icon="caret" />

<!-- Custom threshold -->
<ScrollToTop threshold={500} />

<!-- Disable smooth scrolling -->
<ScrollToTop smooth={false} />

<!-- Custom accessibility label -->
<ScrollToTop label="Back to top of page" />`}
        language="astro"
      />
    </section>

    <!-- Props Reference -->
    <section class="space-y-6">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
        Props Reference
      </h2>

      <div class="overflow-x-auto">
        <table
          class="w-full border-collapse border border-gray-300 dark:border-gray-600"
        >
          <thead>
            <tr class="bg-gray-50 dark:bg-gray-700">
              <th
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-semibold text-gray-900 dark:text-gray-100"
              >
                Prop
              </th>
              <th
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-semibold text-gray-900 dark:text-gray-100"
              >
                Type
              </th>
              <th
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-semibold text-gray-900 dark:text-gray-100"
              >
                Default
              </th>
              <th
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-left text-sm font-semibold text-gray-900 dark:text-gray-100"
              >
                Description
              </th>
            </tr>
          </thead>
          <tbody class="text-sm">
            <tr>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 font-mono text-purple-600 dark:text-purple-300"
              >
                threshold
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                number
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                300
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                Scroll distance in pixels before button appears
              </td>
            </tr>
            <tr>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 font-mono text-purple-600 dark:text-purple-300"
              >
                position
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                'bottom-right' | 'bottom-left' | 'bottom-center' | 'top-right' |
                'top-left'
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                'bottom-right'
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                Position of the button on screen
              </td>
            </tr>
            <tr>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 font-mono text-purple-600 dark:text-purple-300"
              >
                variant
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                'default' | 'minimal' | 'ghost' | 'solid'
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                'default'
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                Visual style variant
              </td>
            </tr>
            <tr>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 font-mono text-purple-600 dark:text-purple-300"
              >
                size
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                'sm' | 'md' | 'lg'
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                'md'
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                Size of the button
              </td>
            </tr>
            <tr>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 font-mono text-purple-600 dark:text-purple-300"
              >
                smooth
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                boolean
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                true
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                Enable smooth scrolling animation
              </td>
            </tr>
            <tr>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 font-mono text-purple-600 dark:text-purple-300"
              >
                icon
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                'arrow' | 'chevron' | 'caret'
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                'arrow'
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                Icon style to display
              </td>
            </tr>
            <tr>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 font-mono text-purple-600 dark:text-purple-300"
              >
                showProgress
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                boolean
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                false
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                Show circular progress indicator
              </td>
            </tr>
            <tr>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 font-mono text-purple-600 dark:text-purple-300"
              >
                offset
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                number
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                32
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                Distance from viewport edges in pixels
              </td>
            </tr>
            <tr>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 font-mono text-purple-600 dark:text-purple-300"
              >
                label
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                string
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                'Scroll to top'
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                Accessibility label for screen readers
              </td>
            </tr>
            <tr>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 font-mono text-purple-600 dark:text-purple-300"
              >
                disabled
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                boolean
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                false
              </td>
              <td
                class="border border-gray-300 dark:border-gray-600 px-4 py-2 text-gray-700 dark:text-gray-300"
              >
                Whether the button is disabled
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <CodeBlock
        code={`export interface Props {
  threshold?: number;
  position?: 'bottom-right' | 'bottom-left' | 'bottom-center' | 'top-right' | 'top-left';
  smooth?: boolean;
  variant?: 'default' | 'minimal' | 'ghost' | 'solid';
  size?: 'sm' | 'md' | 'lg';
  label?: string;
  icon?: 'arrow' | 'chevron' | 'caret';
  showProgress?: boolean;
  offset?: number;
  disabled?: boolean;
  class?: string;
}`}
        language="typescript"
      />
    </section>

    <!-- Accessibility -->
    <section class="space-y-6">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
        Accessibility
      </h2>

      <div class="prose prose-slate dark:prose-invert">
        <h3>WCAG AAA Compliance</h3>
        <ul>
          <li>
            <strong>Contrast:</strong> All variants meet WCAG AAA standards (7:1
            contrast ratio)
          </li>
          <li>
            <strong>Focus Management:</strong> Clear focus indicators with proper
            keyboard navigation
          </li>
          <li>
            <strong>Screen Reader Support:</strong> Descriptive labels and live announcements
          </li>
          <li>
            <strong>Motion Preferences:</strong> Respects user's reduced motion settings
          </li>
        </ul>

        <h3>Keyboard Navigation</h3>
        <ul>
          <li>
            <strong>Tab:</strong> Navigate to the scroll-to-top button when visible
          </li>
          <li>
            <strong>Enter/Space:</strong> Activate the button to scroll to top
          </li>
          <li>
            <strong>Focus visible:</strong> Clear focus ring when navigating with
            keyboard
          </li>
        </ul>

        <h3>Screen Reader Features</h3>
        <ul>
          <li>
            Button is hidden from screen readers when not visible
            (aria-hidden="true")
          </li>
          <li>Descriptive aria-label explains the button's purpose</li>
          <li>Live announcement when scrolling action is completed</li>
          <li>Proper button semantics for interaction</li>
        </ul>

        <h3>Motion & Animation</h3>
        <ul>
          <li>
            Smooth scrolling can be disabled via props or user preferences
          </li>
          <li>Button entrance animation respects prefers-reduced-motion</li>
          <li>Progress indicator animations are subtle and optional</li>
          <li>Custom easing function for comfortable scroll experience</li>
        </ul>

        <h3>Performance</h3>
        <ul>
          <li>Throttled scroll event listeners for optimal performance</li>
          <li>RequestAnimationFrame for smooth animations</li>
          <li>Passive event listeners where appropriate</li>
          <li>Efficient DOM updates with minimal reflows</li>
        </ul>
      </div>

      <CodeBlock
        code={`<!-- Accessible ScrollToTop example -->
<ScrollToTop
  label="Return to top of page"
  threshold={400}
  variant="default"
  size="lg"
  smooth={true}
  showProgress={true}
/>`}
        language="astro"
      />
    </section>

    <!-- Best Practices -->
    <section class="space-y-6">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
        Best Practices
      </h2>

      <div class="prose prose-slate dark:prose-invert">
        <h3>Do's</h3>
        <ul>
          <li>Place the button in a consistent position across your site</li>
          <li>Use appropriate threshold values for your content length</li>
          <li>Choose variants that match your design system</li>
          <li>Provide descriptive labels for accessibility</li>
          <li>Test with keyboard navigation and screen readers</li>
          <li>Consider user motion preferences</li>
          <li>Use progress indicators for very long pages</li>
        </ul>

        <h3>Don'ts</h3>
        <ul>
          <li>Don't position the button over important content</li>
          <li>Don't use overly small buttons on touch devices</li>
          <li>Don't ignore user motion preferences</li>
          <li>Don't make the threshold too low (causes early appearance)</li>
          <li>Don't use multiple scroll-to-top buttons on the same page</li>
          <li>Don't forget to test on mobile devices</li>
        </ul>

        <h3>Design Guidelines</h3>
        <ul>
          <li>Ensure sufficient contrast in all color modes</li>
          <li>Maintain consistent sizing with other floating elements</li>
          <li>Consider the button's visibility against page backgrounds</li>
          <li>Test positioning with different viewport sizes</li>
          <li>Align with your overall navigation patterns</li>
        </ul>
      </div>

      <CodeBlock
        code={`<!-- Good: Accessible and well-positioned -->
<ScrollToTop
  variant="default"
  position="bottom-right"
  threshold={500}
  size="md"
  label="Back to top of article"
  showProgress={true}
/>

<!-- Good: Minimal design -->
<ScrollToTop
  variant="minimal"
  position="bottom-center"
  threshold={300}
  smooth={true}
/>

<!-- Avoid: Too low threshold -->
<ScrollToTop threshold={50} />

<!-- Avoid: Conflicting positions -->
<ScrollToTop position="bottom-right" />
<ScrollToTop position="bottom-right" /> <!-- Duplicate! -->`}
        language="astro"
      />
    </section>

    <!-- Content for testing scroll -->
    <section class="space-y-6 mt-24">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">
        Test the ScrollToTop Button
      </h2>
      <div class="space-y-8">
        {
          Array.from({ length: 10 }, (_, i) => (
            <div class="bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 p-8 rounded-lg">
              <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4">
                Section {i + 1}
              </h3>
              <p class="text-gray-600 dark:text-gray-300 leading-relaxed">
                This is some sample content to make the page longer and
                demonstrate the scroll-to-top functionality. Keep scrolling down
                to see the button appear, then try clicking it to return to the
                top. The button should smoothly animate into view once you've
                scrolled past the configured threshold.
              </p>
            </div>
          ))
        }
      </div>
    </section>
  </div>
</DocsLayout>
