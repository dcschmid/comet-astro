---
import DocsLayout from '../../layouts/DocsLayout.astro';
import VisuallyHidden from '../../components/VisuallyHidden.astro';
---

<DocsLayout
  title="VisuallyHidden"
  description="WCAG AAA compliant component for content that should be accessible to screen readers but visually hidden. Includes focus management, skip links, debugging capabilities, and enhanced accessibility features."
>
  <section>
    <h2 class="text-xl font-bold mb-4">Props</h2>
    <div class="space-y-3 text-sm">
      <div class="grid gap-2">
        <h3 class="font-semibold text-lg">Element Type</h3>
        <ul class="list-disc pl-6 space-y-1 text-slate-300">
          <li>
            <code
              >as?: 'span' | 'div' | 'p' | 'h1' | 'h2' | 'h3' | 'h4' | 'h5' |
              'h6' | 'label' | 'legend' | 'caption'</code
            > - HTML element type (default: 'span')
          </li>
        </ul>
      </div>

      <div class="grid gap-2">
        <h3 class="font-semibold text-lg">Behavior</h3>
        <ul class="list-disc pl-6 space-y-1 text-slate-300">
          <li>
            <code>focusable?: boolean</code> - Make element focusable and visible
            on focus (default: false)
          </li>
          <li>
            <code>skipLink?: boolean</code> - Style as skip link positioned at top
            of page (default: false)
          </li>
          <li>
            <code>debug?: boolean</code> - Show element visually for debugging purposes
            (default: false)
          </li>
        </ul>
      </div>

      <div class="grid gap-2">
        <h3 class="font-semibold text-lg">Accessibility</h3>
        <ul class="list-disc pl-6 space-y-1 text-slate-300">
          <li>
            <code>ariaLive?: 'off' | 'polite' | 'assertive'</code> - ARIA live region
            behavior
          </li>
          <li><code>ariaLabel?: string</code> - Custom ARIA label</li>
          <li><code>role?: string</code> - Custom ARIA role</li>
        </ul>
      </div>

      <div class="grid gap-2">
        <h3 class="font-semibold text-lg">Additional</h3>
        <ul class="list-disc pl-6 space-y-1 text-slate-300">
          <li><code>className?: string</code> - Additional CSS classes</li>
        </ul>
      </div>
    </div>
  </section>

  <section>
    <h2 class="text-xl font-bold mb-4">Accessibility Features</h2>
    <ul class="list-disc pl-6 space-y-1 text-slate-300">
      <li>WCAG AAA compliant screen reader accessibility</li>
      <li>9:1 contrast ratios when focused (blue background on white text)</li>
      <li>Enhanced focus indicators with ring effects and shadows</li>
      <li>Proper clipping that preserves screen reader access</li>
      <li>Skip link functionality for keyboard navigation</li>
      <li>Support for ARIA live regions and custom roles</li>
      <li>Debug mode for development and testing</li>
      <li>Support for semantic HTML elements (headings, labels, legends)</li>
      <li>Keyboard navigation with proper tabindex management</li>
    </ul>
  </section>

  <section>
    <h2 class="text-xl font-bold mb-4">Examples</h2>

    <div class="space-y-8">
      <div>
        <h3 class="text-lg font-semibold mb-2">Basic Screen Reader Text</h3>
        <div class="bg-slate-800 p-4 rounded-lg inline-flex items-center gap-2">
          <button
            class="px-4 py-2 rounded-lg bg-blue-600 text-white flex items-center gap-2 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"
          >
            üîç
            <VisuallyHidden>Search</VisuallyHidden>
          </button>
          <span class="text-xs text-slate-400">
            Screen readers announce "Search" while only showing the icon
          </span>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold mb-2">Focusable Skip Link</h3>
        <div class="bg-slate-800 p-4 rounded-lg">
          <VisuallyHidden as="a" focusable={true} skipLink={true}>
            Skip to main content
          </VisuallyHidden>
          <p class="text-xs text-slate-400 mt-2">
            Tab into this area to see the skip link appear
          </p>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold mb-2">Different HTML Elements</h3>
        <div class="space-y-4">
          <div>
            <h4 class="font-medium mb-2">Heading for Screen Readers</h4>
            <div class="bg-slate-800 p-4 rounded-lg">
              <VisuallyHidden as="h2">Section: User Profile</VisuallyHidden>
              <div class="text-slate-300">
                Visible content without a heading, but screen readers will
                announce the section
              </div>
            </div>
          </div>

          <div>
            <h4 class="font-medium mb-2">Label for Form Elements</h4>
            <div class="bg-slate-800 p-4 rounded-lg space-y-2">
              <VisuallyHidden as="label">Email Address</VisuallyHidden>
              <input
                type="email"
                placeholder="Enter your email"
                class="w-full px-3 py-2 bg-slate-700 text-white rounded border border-slate-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-800"
              />
              <p class="text-xs text-slate-400">
                Input has accessible label for screen readers
              </p>
            </div>
          </div>

          <div>
            <h4 class="font-medium mb-2">Table Caption</h4>
            <div class="bg-slate-800 p-4 rounded-lg">
              <table class="w-full text-slate-300">
                <VisuallyHidden as="caption"
                  >User Statistics Table</VisuallyHidden
                >
                <thead>
                  <tr class="border-b border-slate-600">
                    <th class="text-left p-2">Name</th>
                    <th class="text-left p-2">Score</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="p-2">Alice</td>
                    <td class="p-2">95</td>
                  </tr>
                  <tr>
                    <td class="p-2">Bob</td>
                    <td class="p-2">87</td>
                  </tr>
                </tbody>
              </table>
              <p class="text-xs text-slate-400 mt-2">
                Table has hidden caption for screen readers
              </p>
            </div>
          </div>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold mb-2">ARIA Live Regions</h3>
        <div class="space-y-4">
          <div>
            <h4 class="font-medium mb-2">Polite Announcements</h4>
            <div class="bg-slate-800 p-4 rounded-lg">
              <VisuallyHidden ariaLive="polite">
                Form saved successfully
              </VisuallyHidden>
              <button
                class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700"
              >
                Save Form
              </button>
              <p class="text-xs text-slate-400 mt-2">
                Success message announced politely to screen readers
              </p>
            </div>
          </div>

          <div>
            <h4 class="font-medium mb-2">Assertive Announcements</h4>
            <div class="bg-slate-800 p-4 rounded-lg">
              <VisuallyHidden ariaLive="assertive">
                Error: Please check your input
              </VisuallyHidden>
              <button
                class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"
              >
                Submit with Error
              </button>
              <p class="text-xs text-slate-400 mt-2">
                Error message announced immediately to screen readers
              </p>
            </div>
          </div>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold mb-2">Debug Mode</h3>
        <div class="bg-slate-800 p-4 rounded-lg space-y-4">
          <div>
            <h4 class="font-medium mb-2">Normal vs Debug</h4>
            <div class="space-y-2">
              <div>
                <span class="text-slate-300">Normal (hidden): </span>
                <span class="px-2 py-1 bg-slate-700 rounded text-sm">
                  Icon
                  <VisuallyHidden>Hidden text for screen readers</VisuallyHidden
                  >
                </span>
              </div>
              <div>
                <span class="text-slate-300">Debug mode (visible): </span>
                <span class="px-2 py-1 bg-slate-700 rounded text-sm">
                  Icon
                  <VisuallyHidden debug={true}
                    >Hidden text for screen readers</VisuallyHidden
                  >
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold mb-2">Custom ARIA Attributes</h3>
        <div class="bg-slate-800 p-4 rounded-lg">
          <div role="tablist" class="flex space-x-1">
            <button
              role="tab"
              aria-selected="true"
              class="px-4 py-2 bg-blue-600 text-white rounded"
            >
              Tab 1
              <VisuallyHidden role="status" ariaLabel="Currently selected tab">
                Active
              </VisuallyHidden>
            </button>
            <button
              role="tab"
              aria-selected="false"
              class="px-4 py-2 bg-slate-600 text-slate-300 rounded"
            >
              Tab 2
            </button>
          </div>
          <p class="text-xs text-slate-400 mt-2">
            Screen readers get additional context about active tab
          </p>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold mb-2">Navigation Instructions</h3>
        <div class="bg-slate-800 p-4 rounded-lg">
          <nav>
            <VisuallyHidden as="h2">Main Navigation</VisuallyHidden>
            <ul class="flex space-x-4">
              <li>
                <a href="#" class="text-blue-400 hover:text-blue-300">Home</a>
              </li>
              <li>
                <a href="#" class="text-blue-400 hover:text-blue-300">About</a>
              </li>
              <li>
                <a href="#" class="text-blue-400 hover:text-blue-300">Contact</a
                >
              </li>
            </ul>
          </nav>
          <p class="text-xs text-slate-400 mt-2">
            Screen readers understand this is main navigation
          </p>
        </div>
      </div>

      <div>
        <h3 class="text-lg font-semibold mb-2">Complex Interactive Example</h3>
        <div class="bg-slate-800 p-4 rounded-lg">
          <div class="space-y-4">
            <div class="flex items-center justify-between">
              <h4 class="text-slate-200">Shopping Cart</h4>
              <button
                class="px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700"
              >
                üóëÔ∏è
                <VisuallyHidden>Remove all items from cart</VisuallyHidden>
              </button>
            </div>

            <div class="space-y-2">
              <div
                class="flex items-center justify-between p-2 bg-slate-700 rounded"
              >
                <span class="text-slate-300">Product A</span>
                <div class="flex items-center space-x-2">
                  <button
                    class="w-6 h-6 bg-slate-600 text-slate-300 rounded text-sm hover:bg-slate-500"
                  >
                    -
                    <VisuallyHidden
                      >Decrease quantity of Product A</VisuallyHidden
                    >
                  </button>
                  <span class="text-slate-300 w-8 text-center">2</span>
                  <button
                    class="w-6 h-6 bg-slate-600 text-slate-300 rounded text-sm hover:bg-slate-500"
                  >
                    +
                    <VisuallyHidden
                      >Increase quantity of Product A</VisuallyHidden
                    >
                  </button>
                </div>
              </div>
            </div>

            <VisuallyHidden ariaLive="polite" role="status">
              Cart updated: 2 items total
            </VisuallyHidden>

            <p class="text-xs text-slate-400">
              All buttons have descriptive labels for screen readers
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section>
    <h2 class="text-xl font-bold mb-4">Use Cases</h2>
    <ul class="list-disc pl-6 space-y-1 text-slate-300">
      <li>
        <strong>Icon-only buttons:</strong> Provide text descriptions for screen
        readers
      </li>
      <li>
        <strong>Skip links:</strong> Navigation shortcuts for keyboard users
      </li>
      <li>
        <strong>Status updates:</strong> Live announcements without visual clutter
      </li>
      <li>
        <strong>Form labels:</strong> Accessible labels when visual labels aren't
        desired
      </li>
      <li>
        <strong>Contextual information:</strong> Additional details for screen readers
      </li>
      <li>
        <strong>Section headings:</strong> Structure content for assistive technologies
      </li>
      <li>
        <strong>Table captions:</strong> Describe table purpose and structure
      </li>
      <li><strong>Error messages:</strong> Immediate accessibility feedback</li>
    </ul>
  </section>

  <section>
    <h2 class="text-xl font-bold mb-4">Accessibility Best Practices</h2>
    <ul class="list-disc pl-6 space-y-1 text-slate-300">
      <li>
        Use appropriate semantic HTML elements with the <code>as</code> prop
      </li>
      <li>Keep text concise but descriptive for screen readers</li>
      <li>
        Use <code>focusable</code> for skip links and interactive hidden content
      </li>
      <li>Use ARIA live regions for dynamic content announcements</li>
      <li>Test with actual screen readers (NVDA, JAWS, VoiceOver)</li>
      <li>Use <code>debug</code> mode during development to verify content</li>
      <li>
        Don't overuse - only hide content that truly adds value for screen
        readers
      </li>
      <li>Ensure focus styling meets WCAG AAA contrast requirements</li>
    </ul>
  </section>

  <section>
    <h2 class="text-xl font-bold mb-4">Testing with Screen Readers</h2>
    <div class="space-y-3 text-sm text-slate-300">
      <div>
        <h3 class="font-semibold">Windows:</h3>
        <ul class="list-disc pl-6 space-y-1">
          <li>NVDA (free): Download from nvaccess.org</li>
          <li>JAWS (commercial): Most popular enterprise screen reader</li>
        </ul>
      </div>
      <div>
        <h3 class="font-semibold">macOS:</h3>
        <ul class="list-disc pl-6 space-y-1">
          <li>VoiceOver (built-in): Cmd+F5 to enable</li>
        </ul>
      </div>
      <div>
        <h3 class="font-semibold">Mobile:</h3>
        <ul class="list-disc pl-6 space-y-1">
          <li>iOS VoiceOver: Settings &gt; Accessibility &gt; VoiceOver</li>
          <li>Android TalkBack: Settings &gt; Accessibility &gt; TalkBack</li>
        </ul>
      </div>
    </div>
  </section>
</DocsLayout>
